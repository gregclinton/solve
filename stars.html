<body style="background-color:black;color:brown">

<div>
    <svg id="scorpius" height="500" width="300"></svg>
</div>

<pre>












</pre>

<img
    src="https://upload.wikimedia.org/wikipedia/commons/3/38/Scorpius_IAU.svg"/
    style="background-color: gray"
>
</body>

<script>
    /*
        https://dc.zah.uni-heidelberg.de/__system__/adql/query/form

        select hip.ra, hip.dec, hip.hpmag
        from hipparcos.main as hip
        join cstl.geo as cstl
            on 1 = contains(point(hip.ra, hip.dec), cstl.p)
        where
            cstl.name = 'Scorpius' and
            hip.hpmag < 7
    */

    let meridian = 240;

    function lst() {
        meridian += 1;
        return meridian;
    
        let longitude = -117.6401;
        let dt = new Date();
        let y = dt.getUTCFullYear();
        let m = dt.getUTCMonth() + 1;
        let d = dt.getUTCDate();

        if (m <= 2) {
            m += 12;
            y--;
        }

        // http://www.jgiesen.de/astro/astroJS/siderealClock/sidClock.js

        let floor = Math.floor;
        let u = dt.getUTCHours() + dt.getUTCMinutes() / 60 + dt.getUTCSeconds() / 3600;
        let jd = floor(365.25 * (y + 4716)) + floor(30.6001 * (m + 1)) + d - 13 -1524.5 + u / 24.0 - 2400000.5;
        let jd0 = floor(jd);
        let eph  = (jd0 - 51544.5) / 36525.0;
        let gst =  6.697374558 + 1.0027379093 * (jd - jd0) * 24.0 + (8640184.812866 + (0.093104 - 0.0000062 * eph) * eph) * eph / 3600.0;
        return gst + longitude / 15;
    }

    let scorpius = `
        239.41862315,-20.98302564,5.8531
        241.35931206,-19.80539286,2.594
        241.36073017,-19.80184191,4.9235
        241.26221871,-18.53940123,6.8453
        242.48046789,-18.34045197,6.5253
        243.66375587,-18.535343,6.482
        245.7232464,-17.01912633,6.9593
        244.75180357,-14.87282262,6.1027
        262.35665611,-38.51694348,6.4081
        263.77616946,-38.79953725,6.9259
        264.13686148,-38.63486521,4.427
        264.36215923,-38.06635738,6.4193
        266.02361661,-38.80563463,6.9019
        264.46339186,-37.86107735,6.8323
        263.92947954,-37.4397919,6.4884
        263.40219373,-37.10374835,1.5244
        265.71288389,-36.94550742,5.6553
        265.85832455,-35.29765913,6.9483
        265.49594326,-33.50380442,6.7753
        265.77860253,-33.05127544,6.4731
        265.8966253,-32.66276161,6.5699
        265.00434366,-32.2010531,6.7487
        265.24394821,-32.21444835,6.1497
        266.94812112,-34.31066866,6.9471
        268.30201823,-32.03234198,6.9363
        267.2936388,-31.70318435,4.7954
        267.32211105,-30.59734291,6.7332
        267.8022918,-30.55686259,6.7199
        258.038233,-43.23849039,3.4149
        259.6993281,-44.12970725,5.7487
        259.85262157,-44.22299964,6.7047
        261.05455256,-44.1625017,5.0962
        262.25360309,-43.97389932,6.2827
        259.07327164,-42.3390334,6.808
        264.32969072,-42.99782155,1.9269
        264.53518901,-42.88020256,6.0753
        263.28077941,-41.17305756,5.8635
        265.62199908,-39.02992092,2.3164
        256.61819932,-35.45103893,6.244
        259.09034067,-35.74946511,6.2014
        260.65793288,-35.91093287,6.5389
        259.73483426,-34.98957161,6.0195
        261.26111805,-34.69600968,6.1602
        261.30607643,-34.42982827,6.9583
        258.96145716,-33.73700101,6.5493
        258.83019699,-33.54841317,5.5889
        258.2439872,-32.4383273,6.0163
        259.26547645,-32.66270528,5.6419
        262.52349119,-33.71636014,6.7152
        259.58546532,-32.55308889,6.402
        263.10264642,-34.27932379,6.2396
        262.94735241,-33.70308126,6.584
        263.67704498,-32.58165772,5.7039
        262.3038514,-31.53428573,6.9959
        238.05370687,-29.88634407,6.5558
        237.64545503,-26.2895543,6.7004
        237.74480683,-25.75123489,4.6206
        237.11110985,-23.83401521,6.7568
        238.62549047,-27.33857445,6.1313
        238.87542764,-26.26592073,5.6744
        238.40303498,-25.32708018,4.5757
        238.66474184,-25.24367939,5.8522
        238.47467996,-24.53309547,5.3785
        239.64530965,-24.83142974,5.403
        238.48280036,-23.97803598,5.394
        239.45336418,-23.52726145,6.7774
        238.67335387,-22.76619825,6.8823
        240.08338225,-22.62162024,2.2617
        249.09402476,-42.85885401,5.5409
        247.92404718,-41.81714208,5.387
        245.13594772,-39.430235,6.0947
        246.00514651,-39.19298857,5.4994
        249.62896088,-39.15227824,6.9347
        250.94834906,-38.15624103,6.0379
        249.77181329,-37.21726333,5.9293
        250.62127741,-37.07914846,6.6142
        249.60958867,-43.39837584,5.8155
        252.02307535,-45.94486271,6.7766
        242.82403118,-41.11949816,5.9362
        242.14403299,-39.09279944,6.6258
        245.78192066,-37.42445994,6.9319
        246.13235569,-37.56597007,5.3909
        247.06024024,-37.17981606,5.9583
        244.82174297,-35.49081393,6.7166
        249.17280816,-35.91637714,6.9802
        248.80769312,-35.72458252,6.6255
        249.09358718,-35.25535553,4.2829
        250.15770647,-35.68715946,6.6939
        248.78238513,-45.24421531,6.5836
        255.96197569,-38.1524875,6.0017
        258.61523157,-39.76664573,6.4632
        258.06756446,-39.50677484,5.6855
        258.06896779,-38.82241917,6.4636
        258.90032398,-38.59295116,6.0707
        255.98654601,-37.84415453,6.5744
        258.47485185,-38.29490406,6.8056
        258.84300628,-38.2129533,6.7166
        258.28927097,-37.95236921,6.6744
        256.58414643,-37.22753062,6.0075
        259.52279303,-38.16398354,6.937
        260.66340872,-37.80463731,6.4479
        260.72806023,-37.22069314,6.08
        261.92246044,-37.18559698,6.8353
        262.69985554,-37.43690986,6.9372
        262.69099501,-37.29574016,2.6043
        262.2337058,-36.7782678,6.148
        247.84558957,-34.70432087,4.1824
        250.05383712,-33.74355266,6.7167
        250.43956303,-33.14562113,5.9799
        252.54268738,-34.29260982,2.4532
        253.99059176,-33.50688932,6.3866
        250.91137378,-32.10588875,6.4441
        252.38852642,-31.6513499,6.9743
        254.29655015,-33.2594689,5.5911
        253.78620595,-31.40248342,6.7474
        255.46937192,-32.14340148,5.0002
        255.82473389,-31.61460855,6.9509
        256.45193881,-44.10510266,6.254
        256.27246159,-45.50204313,6.3081
        257.67646022,-44.5575511,5.214
        259.27308305,-44.77858705,6.5328
        259.87458917,-45.6399567,6.862
        260.69366914,-45.61426847,6.8452
        261.17959825,-45.00832839,6.7456
        261.71659776,-45.84296289,5.2627
        267.93562958,-45.60068694,6.2551
        267.88572115,-40.77232768,6.0126
        266.89617137,-40.12698197,3.1093
        269.23285579,-40.30564844,6.6017
        267.17807092,-39.89878743,6.9747
        267.5462917,-40.09042823,4.8648
        269.42051923,-39.10174744,6.665
        269.49082375,-39.13646688,6.2919
        267.35312757,-38.98378309,6.99
        266.78039682,-38.11209711,6.4135
        267.4643802,-37.04337105,3.3521
        268.78345435,-36.47563276,6.0835
        269.48644875,-36.00791079,6.8013
        268.05691299,-34.79918358,5.853
        268.23999275,-35.62418307,6.1092
        268.23237047,-35.01887942,6.5575
        268.34779437,-34.89510976,5.7446
        268.49222234,-34.83104228,6.416
        269.03281261,-35.04889014,6.7569
        268.33157778,-34.73079237,6.1376
        268.47821519,-34.75270986,5.9758
        268.55990674,-34.72763427,6.8978
        268.31657043,-34.62083536,6.9641
        268.69950915,-34.54215414,6.9697
        268.08233216,-34.41683044,6.0113
        268.20509107,-34.11482109,6.2146
        268.61300345,-34.46671107,6.1279
        269.20844882,-32.68887137,6.7079
        269.0669842,-32.47498877,6.6875
        269.19760682,-44.34219871,5.0111
        266.17502411,-42.72930009,5.924
        267.7157326,-42.32996711,6.8543
        269.0185324,-42.32323899,6.8548
        268.21863448,-41.99605927,6.3107
        269.29336429,-41.97840494,6.7165
        269.44919385,-41.71625842,4.9672
        240.97794097,-24.72632678,6.3673
        241.96622959,-24.46229118,6.3134
        242.54121342,-24.582337,6.6604
        243.4396004,-24.42204574,6.4135
        244.11126539,-24.28194415,6.7512
        241.52660087,-23.60624433,5.8832
        242.18219664,-23.68535317,5.8739
        243.41841694,-21.39998062,6.8116
        241.85125058,-20.8686541,4.4647
        241.70180197,-20.66913479,3.9307
        242.99891879,-19.46064684,4.0076
        245.15909758,-24.16928427,4.6441
        245.1803933,-21.84065273,6.9038
        243.62038964,-21.10756359,6.4233
        244.24489835,-21.30406946,6.6207
        244.24667464,-20.10407073,6.5607
        244.7821306,-20.21803464,6.4513
        244.88617634,-30.90676896,5.629
        244.57467023,-28.61377598,4.8029
        246.16552568,-29.70446361,5.5335
        247.56534662,-27.91621934,6.9239
        248.97066423,-28.21596156,2.7374
        247.84528782,-26.53755183,6.2426
        247.35194804,-26.43194608,0.9757,Î± Antares
        241.76469512,-14.0713202,6.4485
        241.9018359,-12.74534315,5.7545
        242.11345578,-10.10204063,6.7978
        243.00000648,-10.06418514,4.9706
        251.25086797,-28.50965621,6.0308
        253.64974943,-30.587337,6.3949
        250.40645565,-27.8095831,6.6904
        250.96436285,-26.80869636,6.8552
        251.07251811,-27.456219,6.6172
        251.71394679,-25.5285363,6.8811
        253.06694183,-25.60057893,6.9355
        253.42682079,-43.05089096,5.8791
        253.89712594,-43.3159484,6.7964
        253.61225569,-42.4788755,5.9669
        253.49886366,-42.36201968,4.8394
        253.64627156,-42.36075916,3.7651
        253.49522453,-41.99432103,6.4145
        253.76387657,-42.09082407,6.3841
        250.94043203,-41.11914006,6.2619
        250.97535885,-41.11329362,6.121
        251.1775089,-40.83962254,5.6099
        253.08020506,-41.85451309,6.4965
        253.50765901,-41.80638305,5.52
        253.54192541,-41.82503271,6.1178
        253.58208193,-41.81986408,6.6627
        252.89050874,-41.23053288,5.2539
        253.74377203,-41.15085448,5.8276
        253.11426283,-40.72310509,6.2986
        254.14990852,-40.82345259,6.2798
        254.06261639,-40.65993444,6.7237
        251.75702788,-39.53381954,6.9236
        251.69988126,-39.37689836,5.6461
        254.45925516,-39.11573382,6.6054
        252.96766195,-38.04732717,2.9246
        253.08397295,-38.01747781,3.4829
        252.7501592,-37.5144812,6.1467
        253.15024455,-37.59932507,6.8695
        254.71772463,-37.62041528,6.1115
        255.15413916,-35.9339762,6.1179
        256.20562945,-34.12292247,4.9111
        257.19810689,-30.40356872,6.0008
        255.05941389,-44.98846818,6.5881
        255.13484427,-45.4517508,6.6802
        242.38232104,-32.64893835,6.3306
        240.66416321,-29.13577664,6.2238
        242.75886281,-29.41600661,5.2578
        243.06689523,-28.4172057,5.6747
        243.07588221,-27.92631564,4.5279
        242.46919686,-33.54569572,5.48
        243.59321316,-33.01104217,6.0772
        243.54994228,-31.66303691,6.6842
        245.98635397,-33.19932914,6.464
        252.10274273,-31.20362438,6.8106
        239.22119438,-29.21401221,3.8095
        239.71300283,-26.1140428,2.8274
        242.56638035,-26.90904616,6.6192
        242.88973964,-27.15079811,6.9921
        240.83611243,-25.86514891,5.1173
        242.03133733,-26.32666483,5.42
        243.72265106,-25.47692204,6.0756
        245.29717718,-25.59275259,2.9227
        247.55199128,-25.11515935,4.7461
        243.03037216,-8.54757943,5.4731
        243.90472242,-8.36823651,5.6265
        254.15768984,-30.58003813,6.7395
        243.9645463,-14.84911862,6.1274
        245.11766582,-12.91111502,6.6468
        243.46211879,-11.83772219,5.3868
    `;

    let stars = [];
    let raMin = 0;
    let raMax = 0;
    let decMin = 0;
    let decMax = 0;
    let width = 0;
    let height = 0;

    const scale = (x, xmin, xmax, size) => size - ((x - xmin) * (size / (xmax - xmin)));
    const scaleRa = ra => scale(ra, raMin, raMax, width);
    const scaleDec = dec => scale(dec, decMin, decMax, height);

    const svgns = "http://www.w3.org/2000/svg";

    function getStars(csv) {
        stars = [];
        raMin = 360;
        raMax = 0;
        decMin = 90;
        decMax = -90;

        for (const row of csv.trim().split('\n')) {
            const star = row.trim().split(',');
            const [ra, dec, mag, name] = star;

            raMin = Math.min(ra, raMin);
            raMax = Math.max(ra, raMax);
            decMin = Math.min(dec, decMin);
            decMax = Math.max(dec, decMax);

            stars.push(star);
        }
    }

    function moveMeridian(name) {
        const svg = document.getElementById(name);

        height = svg.getAttribute('height');
        width = svg.getAttribute('width');

        const line = document.getElementById(name + '-meridian');
        const x = scaleRa(lst());

        line.setAttribute('x1', x);
        line.setAttribute('x2', x);

        for (let dec = -90; dec < 90; dec++) {
            if (dec % 5 === 0) {
                let y = scaleDec(dec);

                if (y > 0 && y < height) {
                    const label = document.getElementById(name + '-label-' + y);

                    label.setAttributeNS(null, 'x', x + 4);
                }
            }
        }
    }

    function drawMeridian(name) {
        const svg = document.getElementById(name);
        let line = document.createElementNS(svgns, 'line');

        line.setAttributeNS(null, 'x1', 0);
        line.setAttributeNS(null, 'x2', 0);
        line.setAttributeNS(null, 'y1', 0);
        line.setAttributeNS(null, 'y2', height);
        line.setAttributeNS(null, 'stroke', '#555');
        line.setAttributeNS(null, 'stroke-width', 0.8);
        line.setAttribute('id', name + '-meridian');
        svg.appendChild(line);

        for (let dec = -90; dec < 90; dec++) {
            if (dec % 5 === 0) {
                let y = scaleDec(dec);

                if (y > 0 && y < height) {
                    let label = document.createElementNS(svgns, 'text');
                    let text = document.createTextNode('' + dec);

                    label.setAttributeNS(null, 'fill', '#444');
                    label.appendChild(text);                    
                    label.setAttribute('id', name + '-label-' + y);
                    label.setAttributeNS(null, 'x', 0);
                    label.setAttributeNS(null, 'y', y - 2);
                    label.setAttributeNS(null, 'font-family', 'Arial, Helvetica, sans-serif');
                    label.setAttributeNS(null, 'font-size', 9);
                    svg.appendChild(label);
                }
            }
        }

        moveMeridian(name);
    }

    function drawStars(name, csv) {
        const svg = document.getElementById(name);

        height = svg.getAttribute('height');
        width = svg.getAttribute('width');

        getStars(csv);

        for (let minute = 0; minute < 1440; minute++) {
            let x = scaleRa(minute * 360 / 1440);

            if (x > 0 && x < width) {
                let line = document.createElementNS(svgns, 'line');

                line.setAttributeNS(null, 'x1', x);
                line.setAttributeNS(null, 'x2', x);
                line.setAttributeNS(null, 'y1', 0);
                line.setAttributeNS(null, 'y2', height);
                line.setAttributeNS(null, 'stroke', '#222');
                line.setAttributeNS(null, 'stroke-width', 0.8);
                svg.appendChild(line);
            }
        }

        for (let dec = -90; dec < 90; dec++) {
            let y = scaleDec(dec);

            if (y > 0 && y < height) {
                let line = document.createElementNS(svgns, 'line');

                line.setAttributeNS(null, 'x1', 0);
                line.setAttributeNS(null, 'x2', width);
                line.setAttributeNS(null, 'y1', y);
                line.setAttributeNS(null, 'y2', y);
                line.setAttributeNS(null, 'stroke', dec % 5 === 0 ? '#444' : '#222');
                line.setAttributeNS(null, 'stroke-width', 0.8);
                svg.appendChild(line);
            }
        }

        drawMeridian(name);

        for (const star of stars) {
            let [ra, dec, mag] = star;
            let dot = document.createElementNS(svgns, 'circle');

            dot.setAttributeNS(null, 'cx', scaleRa(ra));
            dot.setAttributeNS(null, 'cy', scaleDec(dec));
            dot.setAttributeNS(null, 'r', mag < 3 ? 1 : 1);
            dot.setAttributeNS(null, 'style', 'stroke: none; fill: #' + (mag < 3 ? 'f' : mag < 5 ? 'a' : '6') + '00');
            svg.appendChild(dot);
        }
    }

    drawStars('scorpius', scorpius);

    setInterval(() => {
        getStars(scorpius);
        moveMeridian('scorpius');
    }, 10000);
</script>