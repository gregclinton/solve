<body style="background-color:black;color:brown">

<div>
    <svg id="scorpius" height="500" width="800"></svg>
</div>

<pre>












</pre>

<img
    src="https://upload.wikimedia.org/wikipedia/commons/3/38/Scorpius_IAU.svg"/
    style="background-color: gray"
>
</body>

<script>
    /*
        https://dc.zah.uni-heidelberg.de/__system__/adql/query/form

        select hip.ra, hip.dec, hip.hpmag
        from hipparcos.main as hip
        join cstl.geo as cstl
            on 1 = contains(point(hip.ra, hip.dec), cstl.p)
        where
            cstl.name = 'Scorpius' and
            hip.ra > 15 * 15 + 40 * 0.017 and
            hip.ra < 17 * 15 and
            hip.dec > -30 and
            hip.dec < -18 and
            hip.hpmag < 7
    */

    let meridian = 200;

    function lst() {
        meridian += 10;
        return meridian;
    
        let longitude = -117.6401;
        let dt = new Date();
        let y = dt.getUTCFullYear();
        let m = dt.getUTCMonth() + 1;
        let d = dt.getUTCDate();

        if (m <= 2) {
            m += 12;
            y--;
        }

        // http://www.jgiesen.de/astro/astroJS/siderealClock/sidClock.js

        let floor = Math.floor;
        let u = dt.getUTCHours() + dt.getUTCMinutes() / 60 + dt.getUTCSeconds() / 3600;
        let jd = floor(365.25 * (y + 4716)) + floor(30.6001 * (m + 1)) + d - 13 -1524.5 + u / 24.0 - 2400000.5;
        let jd0 = floor(jd);
        let eph  = (jd0 - 51544.5) / 36525.0;
        let gst =  6.697374558 + 1.0027379093 * (jd - jd0) * 24.0 + (8640184.812866 + (0.093104 - 0.0000062 * eph) * eph) * eph / 3600.0;
        return gst + longitude / 15;
    }

    let scorpius = `
        239.41862315,-20.98302564,5.8531
        238.33358671,-20.16699405,5.0287
        238.75154369,-19.38288098,5.9524
        241.35931206,-19.80539286,2.594
        241.36073017,-19.80184191,4.9235
        241.26221871,-18.53940123,6.8453
        242.48046789,-18.34045197,6.5253
        243.66375587,-18.535343,6.482
        228.61746865,-18.42848104,6.8554
        230.22367434,-18.15851255,6.3189
        226.54433562,-24.13129938,6.8944
        227.46380766,-23.98590734,6.662
        228.32260826,-24.00827351,6.4674
        226.61291084,-22.03170347,6.2977
        229.09596946,-22.39942083,5.6675
        228.05546736,-19.79163143,4.5179
        228.3300764,-19.64745418,6.1143
        228.05015284,-19.10642417,6.6184
        232.65103151,-20.72848221,6.2608
        232.93104588,-20.16484591,6.3476
        234.56767525,-21.01615303,5.9877
        233.152971,-19.67036366,5.558
        234.60617038,-19.91292776,6.7464
        234.97699228,-19.7690838,6.9794
        234.72711374,-19.30170914,5.5154
        235.48674445,-19.67857446,4.8503
        232.2445393,-28.86681151,6.5547
        234.66410153,-29.77768935,3.5999
        233.65545605,-28.04690734,5.275
        234.25607748,-28.13507099,3.7471
        234.56583222,-28.20660943,6.48
        236.55372448,-28.06142741,6.5753
        238.05370687,-29.88634407,6.5558
        237.64545503,-26.2895543,6.7004
        237.74480683,-25.75123489,4.6206
        237.11110985,-23.83401521,6.7568
        238.62549047,-27.33857445,6.1313
        238.87542764,-26.26592073,5.6744
        238.40303498,-25.32708018,4.5757
        238.66474184,-25.24367939,5.8522
        238.47467996,-24.53309547,5.3785
        239.64530965,-24.83142974,5.403
        238.48280036,-23.97803598,5.394
        239.45336418,-23.52726145,6.7774
        238.67335387,-22.76619825,6.8823
        240.08338225,-22.62162024,2.2617
        230.68828639,-29.3419069,6.6663
        230.73769711,-26.68877567,6.6967
        240.97794097,-24.72632678,6.3673
        241.96622959,-24.46229118,6.3134
        242.54121342,-24.582337,6.6604
        243.4396004,-24.42204574,6.4135
        244.11126539,-24.28194415,6.7512
        241.52660087,-23.60624433,5.8832
        242.18219664,-23.68535317,5.8739
        243.41841694,-21.39998062,6.8116
        241.85125058,-20.8686541,4.4647
        241.70180197,-20.66913479,3.9307
        242.99891879,-19.46064684,4.0076
        245.15909758,-24.16928427,4.6441
        246.3511978,-23.46016953,6.8183
        245.1803933,-21.84065273,6.9038
        246.39633811,-23.44711764,4.6152
        243.62038964,-21.10756359,6.4233
        244.24489835,-21.30406946,6.6207
        244.24667464,-20.10407073,6.5607
        244.7821306,-20.21803464,6.4513
        246.02582204,-20.03721137,4.6501
        248.03411079,-21.46647783,4.4857
        246.75599294,-18.45619698,4.287
        249.61942262,-18.22042658,6.8019
        244.57467023,-28.61377598,4.8029
        246.16552568,-29.70446361,5.5335
        247.56534662,-27.91621934,6.9239
        248.97066423,-28.21596156,2.7374
        247.84528782,-26.53755183,6.2426
        247.35194804,-26.43194608,0.9757
        251.25086797,-28.50965621,6.0308
        250.40645565,-27.8095831,6.6904
        250.96436285,-26.80869636,6.8552
        251.07251811,-27.456219,6.6172
        251.71394679,-25.5285363,6.8811
        253.06694183,-25.60057893,6.9355
        240.66416321,-29.13577664,6.2238
        242.75886281,-29.41600661,5.2578
        243.06689523,-28.4172057,5.6747
        243.07588221,-27.92631564,4.5279
        226.01775793,-25.28185602,3.3093
        226.44886139,-25.78943722,6.6493
        227.23965076,-26.49727367,6.9815
        227.57771621,-26.3326008,5.9183
        228.47217392,-26.19355939,6.0066
        228.37052116,-25.30916439,6.6023
        228.9141102,-27.59631485,6.881
        233.06305493,-23.88016785,6.6102
        234.36877505,-26.27980785,6.1975
        233.28972685,-24.49034196,6.3415
        235.07043893,-23.81805841,5.1247
        234.45024464,-23.14151509,5.9605
        234.83912225,-23.15017112,6.3489
        236.42902008,-22.75324352,6.8735
        239.22119438,-29.21401221,3.8095
        239.71300283,-26.1140428,2.8274
        242.56638035,-26.90904616,6.6192
        242.88973964,-27.15079811,6.9921
        240.83611243,-25.86514891,5.1173
        242.03133733,-26.32666483,5.42
        243.72265106,-25.47692204,6.0756
        245.29717718,-25.59275259,2.9227
        247.55199128,-25.11515935,4.7461
        254.99043286,-25.09216189,5.9457
        250.40089052,-24.4679393,6.1326
        253.71176412,-23.51228392,6.9191
        254.20015918,-23.15032178,5.5665
        250.1437836,-20.40871834,6.4173
        250.473642,-19.92447879,5.6533
        253.88558952,-21.56949817,6.6648
        253.35523754,-20.41548861,6.0013
        250.32772316,-18.05937859,6.738
        251.37573793,-19.13692789,6.689
        254.26663364,-19.53983923,6.3092
        254.93469985,-18.24799544,6.7499
    `;

    const svgns = "http://www.w3.org/2000/svg";

    function moveMeridian(name) {
        const line = document.getElementById(name + '-meridian');
        const x = lst(); //scaleRa(lst());

        line.setAttribute('x1', x);
        line.setAttribute('x2', x);
    }

    function drawMeridian(name) {
        const svg = document.getElementById(name);
        const height = svg.getAttribute('height');

        let line = document.createElementNS(svgns, 'line');

        line.setAttributeNS(null, 'x1', 0);
        line.setAttributeNS(null, 'x2', 0);
        line.setAttributeNS(null, 'y1', 0);
        line.setAttributeNS(null, 'y2', height);
        line.setAttributeNS(null, 'stroke', '#666');
        line.setAttributeNS(null, 'stroke-width', 0.8);
        line.setAttribute('id', name + '-meridian');
        svg.appendChild(line);

        moveMeridian(name);
    }

    function drawStars(name, csv) {
        let stars = [];
        let raMin = 360;
        let raMax = 0;
        let decMin = 90;
        let decMax = -90;

        for (const row of csv.trim().split('\n')) {
            const star = row.trim().split(',');
            const [ra, dec, mag] = star;

            raMin = Math.min(ra, raMin);
            raMax = Math.max(ra, raMax);
            decMin = Math.min(dec, decMin);
            decMax = Math.max(dec, decMax);

            stars.push(star);
        }

        const svg = document.getElementById(name);
        const height = svg.getAttribute('height');
        const width = svg.getAttribute('width');
        const scale = (x, xmin, xmax, size) => size - ((x - xmin) * (size / (xmax - xmin)));
        const scaleRa = ra => scale(ra, raMin, raMax, width);
        const scaleDec = dec => scale(dec, decMin, decMax, height);

        for (let minute = 0; minute < 1440; minute++) {
            let x = scaleRa(minute * 360 / 1440);

            if (x > 0 && x < width) {
                let line = document.createElementNS(svgns, 'line');

                line.setAttributeNS(null, 'x1', x);
                line.setAttributeNS(null, 'x2', x);
                line.setAttributeNS(null, 'y1', 0);
                line.setAttributeNS(null, 'y2', height);
                line.setAttributeNS(null, 'stroke', '#222');
                line.setAttributeNS(null, 'stroke-width', 0.8);
                svg.appendChild(line);
            }
        }

        for (let dec = -90; dec < 90; dec++) {
            let y = scaleDec(dec);

            if (y > 0 && y < height) {
                let line = document.createElementNS(svgns, 'line');

                line.setAttributeNS(null, 'x1', 0);
                line.setAttributeNS(null, 'x2', width);
                line.setAttributeNS(null, 'y1', y);
                line.setAttributeNS(null, 'y2', y);
                line.setAttributeNS(null, 'stroke', '#222');
                line.setAttributeNS(null, 'stroke-width', 0.8);
                svg.appendChild(line);
            }
        }

        drawMeridian(name);

        for (const star of stars) {
            let [ra, dec, mag] = star;
            let dot = document.createElementNS(svgns, 'circle');

            dot.setAttributeNS(null, 'cx', scaleRa(ra));
            dot.setAttributeNS(null, 'cy', scaleDec(dec));
            dot.setAttributeNS(null, 'r', mag < 3 ? 2 : 1);
            dot.setAttributeNS(null, 'style', 'fill: brown; stroke: none;' );
            svg.appendChild(dot);
        }
    }

    drawStars('scorpius', scorpius);

    setInterval(() => {
        moveMeridian('scorpius');
    }, 10000);
</script>